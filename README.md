# node-magician

一个前端的节点式编程应用

<!--这里也不知道写什么好-->
<br/>

# 概念

## 动力(`Power`)
- 定义：用于驱动节点的能量
- 特征：
    - 可以驱动动力节点
- 注释：动力并非真实存在。实际上，为了确定浩如烟海的节点的执行顺序，有很多方法。scratch选择了“搭积木”。然而node-magician选择找到一根绳子把它们串起来，然后沿着这根绳子一个一个地确定执行顺序。但是这种说法未免过于奇怪且冗长，于是我们捏造了“动力”这个说法来表达“将节点串在一条线上来确定它们的执行顺序”这一个天才想法。你也可以将动力单纯想象成电力。但归根结底，动力驱动节点，并且可以在节点中互相传递。

## 接口(`Scoket`)
- 定义：为了传递数据或者动力，对外暴露的端口（类似生活中的插座）
- 特征：
    - 属于节点的一部分，不能脱离节点存在

## 数据接口(`DataSocket`)
- 定义：用于传递数据的接口

## 动力接口(`PowerSocket`)
- 定义：用于传递动力的接口。它们将动力注入节点，并且支持动力在各个节点间的互相传递。

## 线(`Line`)
- 定义：线传递数据和动力
- 注释：
    - 线分为电源线和数据线，前者的两端连接到两个动力接口上，传递动力。后者同理。
    - 事实上，线，只是为了确定节点的顺序。我们将线解释为传递数据和动力的媒介，只是为了表达“用绳子的连接来确定节点的顺序”这个想法。
    - 线是可见的，你可以看见两个接口中间连接着一条线，方便你弄清楚接口的数据或动力从哪来，到哪去。

## 节点(`Node`)
- 定义：带有接口的矩形卡片。
- 特征：
    - 可以被拖动并放置
- 注释：节点是组成程序的基本元素。


## 动力节点(`PowerNode`)
- 定义：左右各**有且仅有**一个电源接口的节点
- 特征：
    - 左右各有一个动力接口
    - 运行后产生一定的影响（例如改变DOM）
    - （非必需但一般情况下）有一个以上的输入和输出

## 数据节点(`DataNode`)
- 定义：只有数据接口，并且数据接口仅用于输出的节点
- 特征：
    - 一般用于硬编码数据，用输入框或选择框替代了用于输入的接口。
    - 外形迷你（？

## 代码块（`Block`）
- 定义：可包含多个节点的容器
- 特征：
    - 拥有一个用于输入动力的动力接口和许多用于输出的动力接口。有些代码块不接受输入的动力，它们会自己提供动力。
- 注释：我们从[老版LEGO MINDSTROMS EV3的切换模块](https://ev3-help-online.api.education.lego.com/Education/zh-cn/page.html?Path=blocks%2FLEGO%2FCaseSelector.html)中获得了相当大的启发。

<br/>

# 命名规范

对于所有的常量，interface和类名，使用大驼峰命名法。

对于其他的变量等，使用小驼峰命名法。

## Schema

schema用于描述一个抽象的基类。

比如，有一个用于输出内容的节点`LogOut`，那么所有的LogOut节点，无论它们具体在那个位置，输出的内容是什么，它们的一些属性（比如标题，描述，接口数量）是完全一样的。那么，我们将这个`LogOut`节点共通的内容抽象出来，称为`schema`。那么`LogOut`的节点的`schema`就会包含标题，描述等内容。

用于定义某个东西的Schema的interface，命名应为`xxxSchema`。如`PowerNodeSchema`，`DataSocketSchema`。

## Node，Block和Socket

所有具体的Node,Block和Scoket应使用原名。